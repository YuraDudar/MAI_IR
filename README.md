# –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ —Ä–∞–±–æ—Ç—ã –ø–æ –∫—É—Ä—Å—É "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π –ü–æ–∏—Å–∫"

| –°—Ç—É–¥–µ–Ω—Ç                | –ì—Ä—É–ø–ø–∞      | –û—Ü–µ–Ω–∫–∞ |
| ---------------------- | ----------- | ------ |
| –î—É–¥–∞—Ä—å –Æ—Ä–∏–π –ú–æ—Ö—Å–µ–Ω–æ–≤–∏—á | –ú8–û-409–ë-22 |   :)     |

# üöÄ InfoSearch Engine

![C++](https://img.shields.io/badge/C%2B%2B-17-blue.svg?style=flat&logo=c%2B%2B)
![Python](https://img.shields.io/badge/Python-3.10+-yellow.svg?style=flat&logo=python)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-336791.svg?style=flat&logo=postgresql)
![Docker](https://img.shields.io/badge/Docker-Compose-2496ED.svg?style=flat&logo=docker)

**InfoSearch** - —É—á–µ–±–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–π –ø–æ–∏—Å–∫–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å –Ω—É–ª—è –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤—ã—Ö IR-–±–∏–±–ª–∏–æ—Ç–µ–∫ (Lucene, ElasticSearch). –ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –¥–≤–∏–∂–∫–∞: –æ—Ç —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

## üìë –í—ã–ø–æ–ª–Ω–µ–Ω–æ
üî¥ –î–æ–±—ã—á–∞ –∫–æ—Ä–ø—É—Å–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
üî¥ –ü–æ–∏—Å–∫–æ–≤—ã–π —Ä–æ–±–æ—Ç
üî¥ –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
üî¥ –°—Ç–µ–º–º–∏–Ω–≥
üî¥ –ó–∞–∫–æ–Ω –¶–∏–ø—Ñ–∞
üî¥ –ë—É–ª–µ–≤ –∏–Ω–¥–µ–∫—Å
üî¥ –ë—É–ª–µ–≤ –ø–æ–∏—Å–∫
üü° –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (—é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã)

---

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å](#-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
  - [1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (Crawler)](#1-—Å–±–æ—Ä-–¥–∞–Ω–Ω—ã—Ö-crawler)
  - [2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—Ä–ø—É—Å–∞](#2-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫–æ—Ä–ø—É—Å–∞)
  - [3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ (C++ Core)](#3-–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ-–∏–Ω–¥–µ–∫—Å–∞-c-core)
  - [4. –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞](#4-–∑–∞–ø—É—Å–∫-–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)
- [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏](#-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã-–∏-–º–µ—Ç—Ä–∏–∫–∏)
- [–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤](#-–ø—Ä–∏–º–µ—Ä—ã-–∑–∞–ø—Ä–æ—Å–æ–≤)

---

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–æ–¥—É–ª–µ–π, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö –æ–±—â–∏–º –ø–∞–π–ø–ª–∞–π–Ω–æ–º –¥–∞–Ω–Ω—ã—Ö:

1.  **Crawler (Python):** –†–æ–±–æ—Ç –¥–ª—è —Å–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `Retry Policy`, –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—ã—Ä–æ–π HTML –≤ PostgreSQL.
2.  **Corpus Builder (Python):** –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä, –æ—á–∏—â–∞—é—â–∏–π HTML –æ—Ç —Ç–µ–≥–æ–≤ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤, —Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ñ–∞–π–ª–æ–≤ —Å—Ç–∞—Ç–µ–π.
3.  **Indexing Core (C++):**
    *   **Tokenizer:** UTF-8 –ø–∞—Ä—Å–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.
    *   **Stemmer:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ü–æ—Ä—Ç–µ—Ä–∞ (—Å—Ç–µ–º–º–∏–Ω–≥ –æ–∫–æ–Ω—á–∞–Ω–∏–π).
    *   **Indexer:** –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –º–µ—Ç–æ–¥–æ–º BSBI. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö.
4.  **Search UI (Python + C++ Bridge):** –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Streamlit, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—â–∏–π —Å C++ –ø–æ–∏—Å–∫–æ–≤–∏–∫–æ–º —á–µ—Ä–µ–∑ JSON-–ø–æ—Ç–æ–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞.

---

## üåü –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

*   **–ë—É–ª–µ–≤ –ø–æ–∏—Å–∫:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ `AND` (`&&`), `OR` (`||`), `NOT` (`!`) –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–∫–æ–±–∫–∞–º–∏.
*   **–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç:** –ò–Ω–¥–µ–∫—Å—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö `.bin` —Å –ø—Ä—è–º—ã–º –¥–æ—Å—Ç—É–ø–æ–º.
*   **–ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—è:** –ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º —Å–ª–æ–≤–æ—Ñ–æ—Ä–º —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (—Å—Ç–µ–º–º–∏–Ω–≥).
*   **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ –Ω–∞ —Å–ª–æ–∂–Ω—ã–π –∑–∞–ø—Ä–æ—Å < 50 –º—Å.
*   **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:** –ö—Ä–∞—É–ª–µ—Ä —É–º–µ–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
| :--- | :--- |
| **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** | Python, Requests, BeautifulSoup4, PostgreSQL, Docker |
| **–Ø–¥—Ä–æ (–ò–Ω–¥–µ–∫—Å)** | C++17 (No STL Maps), CMake |
| **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** | Python, Streamlit, Subprocess |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | Custom C++ Test Runner |

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
*   Docker & Docker Compose
*   Python 3.10+
*   C++ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä (MSVC / GCC / Clang) + CMake

### 1. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (Crawler)
–ó–∞–ø—É—Å–∫–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ –∫—Ä–∞—É–ª–µ—Ä –¥–ª—è —Å–±–æ—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
```bash
cd search_engine
# –ó–∞–ø—É—Å–∫ PostgreSQL
docker-compose up -d

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø—É—Å–∫ —Ä–æ–±–æ—Ç–∞
pip install -r requirements.txt
python main.py
```
### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ—Ä–ø—É—Å–∞
–í—ã–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î –∏ –æ—á–∏—â–∞–µ–º –∏—Ö.
```bash
cd ../tools
python export_corpus.py
```
### 3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ (C++ Core)
–ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–∂–∏–º–µ Release.
```bash
cd ../lab_cpp
mkdir build && cd build

cmake ..
cmake --build . --config Release

.\Release\lab4_indexer.exe
```
*–ò–Ω–¥–µ–∫—Å—ã –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã –≤ –ø–∞–ø–∫–µ `index_data`.*

### 4. –ó–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
–ó–∞–ø—É—Å–∫–∞–µ–º UI, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π C++ –¥–≤–∏–∂–æ–∫.
```bash
cd ../../web_ui
streamlit run app.py
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏

–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±—Ä–∞–Ω–∞ –Ω–∞ –∫–æ—Ä–ø—É—Å–µ –∏–∑ **40 823** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Consultant.ru, Business.ru).

| –ú–µ—Ç—Ä–∏–∫–∞                       | –ó–Ω–∞—á–µ–Ω–∏–µ   |
| :---------------------------- | :--------- |
| **–†–∞–∑–º–µ—Ä –∫–æ—Ä–ø—É—Å–∞ (HTML)**     | 9.28 GB    |
| **–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ (Clean)**     | 672 MB     |
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤**        | ~7 000 000 |
| **–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–æ–≤**         | 75 257     |
| **–°–∂–∞—Ç–∏–µ —Å–ª–æ–≤–∞—Ä—è (Stemming)** | 48.5%      |
| **–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞**           | **< 1 –º—Å** |

### –ó–∞–∫–æ–Ω –¶–∏–ø—Ñ–∞
–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç —Å–ª–æ–≤ –≤ –∫–æ—Ä–ø—É—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–µ–ø–µ–Ω–Ω–æ–º—É –∑–∞–∫–æ–Ω—É:

[![zipf-plot.png](https://i.postimg.cc/vB3CqnFt/zipf-plot.png)](https://postimg.cc/ZBvf0CqW)

---

## üîé –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—É—é –≤–ª–æ–∂–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É. 

1.  **–ü–æ–∏—Å–∫ –ø–æ –ò–¢-–ª—å–≥–æ—Ç–∞–º:**
    `((it || –∞–π—Ç–∏) && –ª—å–≥–æ—Ç–∞) && !–∏–ø–æ—Ç–µ–∫–∞`
2.  **–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞:**
    `(—É–≤–æ–ª—å–Ω–µ–Ω–∏–µ || —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ) && —Å—É–¥ && !–ø—Ä–æ–≥—É–ª`
3.  **–ü–æ–ª–∏—Ç–∏–∫–∞ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —à—É–º–∞):**
    `–Ω–∞–ª–æ–≥ && (–∑–∞–∫–æ–Ω || —É–∫–∞–∑) && !–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ`
